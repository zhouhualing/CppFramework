import os
import sys
import platform

buildRoot = os.environ.get('STC_BUILD_ROOT', None)
if buildRoot is None:
    raise Exception('STC_BUILD_ROOT is not defined')

sys.path.append(buildRoot)
sys.path.append(os.path.join(buildRoot, 'build/il/configs/scripts'))
from BLLCommonConfig import ConfigFactory, Utils
import buildUtils

config = ConfigFactory.createConfig('lib', 'Framework.Bll.Base')

sources = [
    './src/init.cpp',
    './src/SalManager.cpp',
    './src/StdAfx.cpp',
    './src/command/AddRemoteFileCommand.cpp',
    './src/command/Command.cpp',
    './src/command/CommandStatusManager.cpp',
    './src/command/CommandStatusUpdate.cpp',
    './src/command/ConfigPropertiesCommand.cpp',
    './src/command/DeleteUserDefinedDefaultsCommand.cpp',
    './src/command/DiscoveryCountdownCommand.cpp',
    './src/command/ExportUserDefinedDefaultsCommand.cpp',
    './src/command/GetAlarmInfoCommand.cpp',
    './src/command/GetConfigInfoCommand.cpp',
    './src/command/GetSystemTimeCommand.cpp',
    './src/command/GetUserDefinedDefaultsCommand.cpp',
    './src/command/LoadUserDefinedDefaultsCommand.cpp',
    './src/command/PassFailCommand.cpp',
    './src/command/SetUserDefinedDefaultsCommand.cpp',
    './src/command/SetSystemConfigCommand.cpp',
    './src/command/SubscribePropertyChangeCommand.cpp',
    './src/command/UnsubscribePropertyChangeCommand.cpp',
    './src/command/TimerCommand.cpp',
    './src/command/SubscribeObjectPropertyChangeCommand.cpp',
    './src/command/UnsubscribeObjectPropertyChangeCommand.cpp',
    './src/database/CppSQLite3.cpp',
    './src/database/SqliteUtil.cpp',
    './src/logger/BLLLogger.cpp',
    './src/logger/BLLLoggerFactory.cpp',
    './src/logger/FatalUserLogHandler.cpp',
    './src/logger/Log4CPlusAdaptor.cpp',
    './src/logger/UserLogger.cpp',
    './src/logger/UserLogResult.cpp',
    './src/message/BaseMessage.cpp',
    './src/message/ClientInfo.cpp',
    './src/message/ClientMessageService.cpp',
    './src/message/HandleMap.cpp',
    './src/message/MemoryStream.cpp',
    './src/message/MessageService.cpp',
    './src/message/Session.cpp',
    './src/message/StringMessageHandler.cpp',
    './src/notification/ActiveEvent.cpp',
    './src/notification/ActiveEventManager.cpp',
    './src/notification/NotificationService.cpp',
    './src/notification/HttpNotificationService.cpp',
    './src/notification/ResetActiveEventDefaultResponseCommand.cpp',
    './src/system/ActivatePluginCommand.cpp',
    './src/plugin/Directory.cpp',
    './src/plugin/Plugin.cpp',
    './src/plugin/PluginManager.cpp',
    './src/results/EotResultColumnDefinition.cpp',
    './src/results/EotResultNode.cpp',
    './src/results/EotResultNodeParam.cpp',
    './src/results/EotResultViewDefinition.cpp',
    './src/results/EventMessageManager.cpp',
    './src/results/ExternalDynamicResultProperty.cpp',
    './src/results/ExternalEquationResultProperty.cpp',
    './src/results/ExternalResultProperty.cpp',
    './src/results/ExternalStaticResultProperty.cpp',
    './src/results/Result.cpp',
    './src/results/ResultViewData.cpp',
    './src/scriptable/AutomationOptions.cpp',
    './src/scriptable/BaseCustomPropertyManager.cpp',
    './src/scriptable/ChangeList.cpp',
    './src/scriptable/ChangeListManager.cpp',
    './src/scriptable/CloneCommand.cpp',
    './src/scriptable/CompositePropertyManager.cpp',
    './src/scriptable/CopyCommand.cpp',
    './src/scriptable/CowDataStore.cpp',
    './src/scriptable/CreatorCommand.cpp',
    './src/scriptable/DataStore.cpp',
    './src/scriptable/DeleteCommand.cpp',
    './src/scriptable/ExternalProperty.cpp',
    './src/scriptable/GetPropertyTypeMetaInfoCommand.cpp',
    './src/scriptable/GetRelationsMetaInfoCommand.cpp',
    './src/scriptable/GetRelativesCommand.cpp',
    './src/scriptable/HandleRegistry.cpp',
    './src/scriptable/HelpCommand.cpp',
    './src/scriptable/ListCommand.cpp',
    './src/scriptable/MetaClass.cpp',
    './src/scriptable/MetaClassLoadPostProcessor.cpp',
    './src/scriptable/MetaClassManager.cpp',
    './src/scriptable/MetaClassUtil.cpp',
    './src/scriptable/MetaInfo.cpp',
    './src/scriptable/MetaProperty.cpp',
    './src/scriptable/ModifyPropertyCommand.cpp',
    './src/system/Project.cpp',
    './src/scriptable/Property.cpp',
    './src/scriptable/PropertyIdValueContainer.cpp',
    './src/scriptable/PropValidator.cpp',
    './src/scriptable/RelationHelper.cpp',
    './src/scriptable/RelationManager.cpp',
    './src/scriptable/RelativesCommandsHelpers.cpp',
    './src/scriptable/RemoteFileMappingEntry.cpp',
    './src/scriptable/RemoveDuplicateTagsCommand.cpp',
    './src/scriptable/ReorderRelativesCommand.cpp',
    './src/scriptable/Scriptable.cpp',
    './src/scriptable/ScriptableAutoPtr.cpp',
    './src/scriptable/ScriptableCompositePropertiesHandler.cpp',
    './src/scriptable/ScriptableCreator.cpp',
    './src/scriptable/ScriptableLocator.cpp',
    './src/scriptable/ScriptableReportWriter.cpp',
    './src/scriptable/ScriptingEngine.cpp',
    './src/scriptable/ScriptingEngineManager.cpp',
    './src/scriptable/SetRelationCommand.cpp',
    './src/scriptable/SetRelativesCommand.cpp',
    './src/scriptable/StakCommandMetaClass.cpp',
    './src/scriptable/Tag.cpp',
    './src/scriptable/Tags.cpp',
    './src/scriptable/Testable.cpp',
    './src/scriptable/TestableResult.cpp',
    './src/scriptable/TestableResult1.cpp',
    './src/scriptable/TestableResult2.cpp',
    './src/scriptable/TestableResultSubClass1.cpp',
    './src/scriptable/TestableResultSubClass2.cpp',
    './src/scriptable/TestableSubClass.cpp',
    './src/scriptable/TypedCompositePropertyHelper.cpp',
    './src/scriptable/serialization/AbstractImporter.cpp',
    './src/scriptable/serialization/AbstractRecursiveExporter.cpp',
    './src/scriptable/serialization/AbstractRecursiveFileExporter.cpp',
    './src/scriptable/serialization/CreateFromTemplateCommand.cpp',
    './src/scriptable/serialization/DbExporter.cpp',
    './src/scriptable/serialization/DbImporter.cpp',
    './src/scriptable/serialization/EOTResultsWriteDatasetCommand.cpp',
    './src/scriptable/serialization/Exporter.cpp',
    './src/scriptable/serialization/FilePathReplacementCommand.cpp',
    './src/scriptable/serialization/ImexLoader.cpp',
    './src/scriptable/serialization/ImexSaver.cpp',
    './src/scriptable/serialization/ImportableFactory.cpp',
    './src/scriptable/serialization/Loader.cpp',
    './src/scriptable/serialization/LoadFromDatabaseCommand.cpp',
    './src/scriptable/serialization/LoadFromTemplateCommand.cpp',
    './src/scriptable/serialization/LoadFromXmlCommand.cpp',
    './src/scriptable/serialization/NoDefaultScriptableImexAdapter.cpp',
    './src/scriptable/serialization/PerlCodeGen.cpp',
    './src/scriptable/serialization/PythonCodeGen.cpp',
    './src/scriptable/serialization/ResetConfigCommand.cpp',
    './src/scriptable/serialization/SaveAsPerlCommand.cpp',
    './src/scriptable/serialization/SaveAsPythonCommand.cpp',
    './src/scriptable/serialization/SaveAsRubyCommand.cpp',
    './src/scriptable/serialization/SaveAsTclCommand.cpp',
    './src/scriptable/serialization/SaveAsTclWithXmlCommand.cpp',
    './src/scriptable/serialization/SaveAsTemplateCommand.cpp',
    './src/scriptable/serialization/SaveAsXmlCommand.cpp',
    './src/scriptable/serialization/Saver.cpp',
    './src/scriptable/serialization/SaveToTccCommand.cpp',
    './src/scriptable/serialization/ScriptableImexAdapter.cpp',
    './src/scriptable/serialization/ScriptableProvider.cpp',
    './src/scriptable/serialization/ScriptCommentProvider.cpp',
    './src/scriptable/serialization/ScriptExporter.cpp',
    './src/scriptable/serialization/ScriptWithXmlExporter.cpp',
    './src/scriptable/serialization/StringExporter.cpp',
    './src/scriptable/serialization/TclCodeGen.cpp',
    './src/scriptable/serialization/UserNote.cpp',
    './src/scriptable/serialization/XmlExporter.cpp',
    './src/scriptable/serialization/XmlGenericExporter.cpp',
    './src/scriptable/serialization/XmlSpecificExporter.cpp',
    './src/scriptable/serialization/XmlSpecificImporter.cpp',
    './src/scriptable/serialization/XmlSpecificSaxHandlers.cpp',
    './src/system/AddRemoteFileMappingEntryCommand.cpp',
    './src/system/GetCachedLogsCommad.cpp',
    './src/system/GetFilesRequiredForCommand.cpp',
    './src/system/GetPluginInfoCommand.cpp',
    './src/system/GetRemoteFileMappingEntryCommand.cpp',
    './src/system/LicenseServer.cpp',
    './src/system/LicenseServerManager.cpp',
    './src/system/PluginInfo.cpp',
    './src/system/StcException.cpp',
    './src/system/StcFileManager.cpp',
    './src/system/StcSystem.cpp',
    './src/system/StcSystemConfiguration.cpp',
    './src/system/TerminateBllCommand.cpp',
    './src/system/UpdateLicenseServerInfoCommand.cpp',
    './src/system/UpdateRetrievedRemoteFileMappingEntryCommand.cpp',
    './src/system/UserDefinedDefaults.cpp',
    './src/system/UserDefinedDefaultsManager.cpp',
    './src/task/TaskManager.cpp',
    './src/thread/Mutex.cpp',
    './src/thread/Thread.cpp',
    './src/time/BaseTimerService.cpp',
    './src/time/CpuTimer.cpp',
    './src/time/ProfileTimer.cpp',
    './src/time/Timer.cpp',
    './src/util/aes.cpp',
    './src/util/ChartPoint.cpp',
    './src/util/ChassisSlotPort.cpp',
    './src/util/CompileAssert.cpp',
    './src/util/EventMessage.cpp',
    './src/util/FilePath.cpp',
    './src/util/IniFile.cpp',
    './src/util/MemLeakDetector.cpp',
    './src/util/MemoryGuard.cpp',
    './src/util/MetaPropIdValueCache.cpp',
    './src/util/Path.cpp',
    './src/util/PHXCrash.cpp',
    './src/util/RelationData.cpp',
    './src/util/ResourceManager.cpp',
    './src/util/ResourcePack.cpp',
    './src/util/StackWalker.cpp',
    './src/util/StcCollections.cpp',
    './src/util/StringUtil.cpp',
    './src/util/SystemUtils.cpp',
    './src/util/UserDefaultUtils.cpp',
    './src/util/ZipUtils.cpp',
    './src/validate/BaseValidationContext.cpp',
    './src/validate/DANExUtil.cpp',
    './src/licensing/StcLicenseUtil.cpp']

includes = [
    'resource.h',
    'include/AddRemoteFileCommand.h',
    'include/AutomationOptions.h',
    'include/CppSQLite3.h',
    'include/Directory.h',
    'include/frameworkConst.h',
    'include/Mutex.h',
    'include/ResetConfigCommand.h',
    'include/SalManager.h',
    'include/SqliteUtil.h',
    'include/StcCollections.h',
    'include/StcException.h',
    'include/StcExport.h',
    'include/StcTypes.h',
    'include/TaskManager.h',
    'include/Thread.h',
    'include/AttributeTypeBuilder.h',
    'include/BaseCustomPropertyManager.h',
    'include/ChangeList.h',
    'include/ChangeListManager.h',
    'include/CloneCommand.h',
    'include/CollectionProperty.h',
    'include/CompositePropertyManager.h',
    'include/CopyCommand.h',
    'include/CowDataStore.h',
    'include/CreatorCommand.h',
    'include/DataStore.h',
    'include/DeleteCommand.h',
    'include/EnumProperty.h',
    'include/ExternalProperty.h',
    'include/GetPropertyTypeMetaInfoCommand.h',
    'include/GetRelationsMetaInfoCommand.h',
    'include/GetRelativesCommand.h',
    'include/HandleRegistry.h',
    'include/HelpCommand.h',
    'include/LicenseServer.h',
    'include/LicenseServerManager.h',
    'include/ListCommand.h',
    'include/MetaClass.h',
    'include/MetaClassLoadPostProcessor.h',
    'include/MetaClassManager.h',
    'include/MetaClassUtil.h',
    'include/MetaInfo.h',
    'include/MetaProperty.h',
    'include/ModifyPropertyCommand.h',
    'include/Project.h',
    'include/Property.h',
    'include/PropertyIdValueContainer.h',
    'include/PropValidator.h',
    'include/PropValidatorImpl.h',
    'include/RelationHelper.h',
    'include/RelationManager.h',
    'include/RelativesCommandsHelpers.h',
    'include/RemoteFileMappingEntry.h',
    'include/RemoveDuplicateTagsCommand.h',
    'include/ReorderRelativesCommand.h',
    'include/ResourcePack.h',
    'include/Scriptable.h',
    'include/ScriptableAutoPtr.h',
    'include/ScriptableCompositePropertiesHandler.h',
    'include/ScriptableCreator.h',
    'include/ScriptableLocator.h',
    'include/ScriptableReportWriter.h',
    'include/ScriptingEngine.h',
    'include/ScriptingEngineManager.h',
    'include/SetRelationCommand.h',
    'include/SetRelativesCommand.h',
    'include/SetSystemConfigCommand.h',
    'include/StakCommandMetaClass.h',
    'include/StcHandle.h',
    'include/Tag.h',
    'include/Tags.h',
    'include/Testable.h',
    'include/TestableResult.h',
    'include/TestableResult1.h',
    'include/TestableResult2.h',
    'include/TestableResultSubClass1.h',
    'include/TestableResultSubClass2.h',
    'include/TestableSubClass.h',
    'include/TimerCommand.h',
    'include/TypedCompositePropertyHelper.h',
    'include/TypedProperty.h',
    'src/scriptable/serialization/AbstractImporter.h',
    'src/scriptable/serialization/AbstractRecursiveExporter.h',
    'src/scriptable/serialization/AbstractRecursiveFileExporter.h',
    'include/CreateFromTemplateCommand.h',
    'src/scriptable/serialization/DbExporter.h',
    'src/scriptable/serialization/DbImporter.h',
    'include/EOTResultsWriteDatasetCommand.h',
    'src/scriptable/serialization/Exportable.h',
    'src/scriptable/serialization/Exporter.h',
    'include/FilePathReplacementCommand.h',
    'src/scriptable/serialization/ImexLoader.h',
    'src/scriptable/serialization/ImexSaver.h',
    'src/scriptable/serialization/ImportableExportable.h',
    'src/scriptable/serialization/ImportableFactory.h',
    'src/scriptable/serialization/ImportableProvider.h',
    'src/scriptable/serialization/Importer.h',
    'src/scriptable/serialization/IScriptCodeGen.h',
    'src/scriptable/serialization/Loader.h',
    'include/LoadFromDatabaseCommand.h',
    'include/LoadFromTemplateCommand.h',
    'include/LoadFromXmlCommand.h',
    'src/scriptable/serialization/NoDefaultScriptableImexAdapter.h',
    'src/scriptable/serialization/PerlCodeGen.h',
    'src/scriptable/serialization/PythonCodeGen.h',
    'include/SaveAsPerlCommand.h',
    'include/SaveAsPythonCommand.h',
    'include/SaveAsRubyCommand.h',
    'include/SaveAsTclCommand.h',
    'include/SaveAsTclWithXmlCommand.h',
    'include/SaveAsTemplateCommand.h',
    'include/SaveAsXmlCommand.h',
    'src/scriptable/serialization/Saver.h',
    'include/SaveToTccCommand.h',
    'include/SaveToTctCommand.h',
    'src/scriptable/serialization/ScriptableImexAdapter.h',
    'src/scriptable/serialization/ScriptableProvider.h',
    'src/scriptable/serialization/ScriptCommentProvider.h',
    'src/scriptable/serialization/ScriptExporter.h',
    'src/scriptable/serialization/ScriptExporterOptions.h',
    'src/scriptable/serialization/ScriptWithXmlExporter.h',
    'src/scriptable/serialization/StringExporter.h',
    'src/scriptable/serialization/TclCodeGen.h',
    'include/UserNote.h',
    'src/scriptable/serialization/XmlExporter.h',
    'src/scriptable/serialization/XmlGenericExporter.h',
    'src/scriptable/serialization/XmlSpecificExporter.h',
    'src/scriptable/serialization/XmlSpecificImporter.h',
    'src/scriptable/serialization/XmlSpecificSaxHandlers.h',
    'include/BLLLogger.h',
    'include/BLLLoggerfactory.h',
    'include/FatalUserLogHandler.h',
    'include/Log4CPlusAdaptor.h',
    'include/UserLogger.h',
    'include/UserLogResult.h',
    'include/BaseMessage.h',
    'include/BinaryReaderWriter.h',
    'include/ClientInfo.h',
    'include/HandleMap.h',
    'include/MemoryStream.h',
    'include/MessageService.h',
    'src/message/Session.h',
    'include/StringMessageHandler.h',
    'include/Command.h',
    'include/CommandStatusManager.h',
    'include/CommandStatusUpdate.h',
    'include/ConfigPropertiesCommand.h',
    'include/DeleteUserDefinedDefaultsCommand.h',
    'include/DiscoveryCountdownCommand.h',
    'include/ExportUserDefinedDefaultsCommand.h',
    'include/GetAlarmInfoCommand.h',
    'include/GetConfigInfoCommand.h',
    'include/GetSystemTimeCommand.h',
    'include/GetUserDefinedDefaultsCommand.h',
    'include/LoadUserDefinedDefaultsCommand.h',
    'include/PassFailCommand.h',
    'include/SetUserDefinedDefaultsCommand.h',
    'include/aes.h',
    'include/ChartPoint.h',
    'include/ChassisSlotPort.h',
    'include/CompileAssert.h',
    'include/Delegate.h',
    'include/EventMessage.h',
    'include/FastDelegate.h',
    'include/FastDelegateBind.h',
    'include/FilePath.h',
    'include/IniFile.h',
    'include/MemoryGuard.h',
    'include/MetaPropIdValueCache.h',
    'include/Path.h',
    'include/RelationData.h',
    'include/ResourceManager.h',
    'include/StcDeprecate.h',
    'include/StcFileManager.h',
    'include/StringUtil.h',
    'include/SystemUtils.h',
    'include/ZipUtils.h',
    'include/BaseTimerService.h',
    'include/CpuTimer.h',
    'include/ProfileTimer.h',
    'include/Timer.h',
    'include/ActiveEvent.h',
    'include/ActiveEventManager.h',
    'include/NotificationService.h',
    'include/HttpNotificationService.h',
    'include/ResetActiveEventDefaultResponseCommand.h',
    'include/BaseValidationContext.h',
    'include/DANExUtil.h',
    'include/EotResultColumnDefinition.h',
    'include/EotResultNode.h',
    'include/EotResultNodeParam.h',
    'include/EotResultViewDefinition.h',
    'include/EventMessageManager.h',
    'include/ExternalDynamicResultProperty.h',
    'include/ExternalEquationResultProperty.h',
    'include/ExternalResultProperty.h',
    'include/ExternalResultPropertyContainer.h',
    'include/ExternalStaticResultProperty.h',
    'include/Result.h',
    'include/ResultViewData.h',
    'include/AddRemoteFileMappingEntryCommand.h',
    'include/GetCachedLogsCommand.h',
    'include/GetFilesRequiredForCommand.h',
    'include/GetPluginInfoCommand.h',
    'include/GetRemoteFileMappingEntryCommand.h',
    'include/PluginInfo.h',
    'include/StcSystem.h',
    'include/StcSystemConfiguration.h',
    'include/TerminateBllCommand.h',
    'include/UpdateLicenseServerInfoCommand.h',
    'include/UpdateRetrievedRemoteFileMappingEntryCommand.h',
    'include/UserDefinedDefaults.h',
    'include/UserDefinedDefaultsManager.h',
    'include/local/MemLeakDetector.h',
    'include/local/PHXCrash.h',
    'include/local/Plugin.h',
    'include/local/PluginManager.h',
    'include/local/StackWalker.h',
    'include/local/StdAfx.h',
    'include/local/StcLicenseTimestamp.h',
    'include/StcLicenseUtil.h',
    'include/local/StringResource.h',
    'include/SubscribePropertyChangeCommand.h',
    'include/UnsubscribePropertyChangeCommand.h',
    'include/SubscribeObjectPropertyChangeCommand.h',
    'include/UnsubscribeObjectPropertyChangeCommand.h']

resources = ['Framework.Bll.Base.rc']

misc = ['../../def/stcFramework.xml']

Utils.buildPCH(config, './src/StdAfx.cpp')
config.env['CPPPATH'] = [
    './include', './include/local', './include/autogen',
    '../../../framework/common/lib/utils',
    '../../../framework/bll/base/include',
    '../../../common/lib/curl-7.35.0/include']

# "System" include paths that rarely change. This is ONLY for 3rd party library include paths. DO NOT put STC include paths here!
# Changing 3rd party libraries will require a full rebuild.
config.env['CXXFLAGS'] += '/I{X}/common/lib/zlib123/ /I{X}/common/lib/zlib123/contrib/minizip/ /I{X}/common/lib/boost_1_46_1 /I{X}/common/tools/xercesc/src /I{X}/common/tools/sqlite /I{X}/common/tools/log4cplus_1_0_4_1/include /I{X}/common/lib/ACE_wrappers_5.5.6/spirent/bll /I{X}/common/lib/ACE_wrappers_5.5.6 /I{X}/common/lib/eigen2 '.replace('{X}', buildRoot)
config.env['STATIC_AND_SHARED_OBJECTS_ARE_THE_SAME'] = 1

is_linux_64 = bool(config.env['CXXFLAGS'].find('-D_LINUX_64') != -1)

if is_linux_64:
    flex_inc = '11.12.1'
else:
    flex_inc = '11.4.1'
config.env['CXXFLAGS'] += '/I%s/common/lib/Flexlm/%s/machind ' % (buildRoot,
                                                                  flex_inc)

if sys.platform.lower().find('win') != -1:
    config.env['LIBPATH'] += os.path.join(buildRoot,
                                          'common/lib/Flexlm/win') + ';'

if config.debug:
    config.env['CXXFLAGS'] += '/D "STC_EXPORTS" /D "SPIRENT_CHANGES"'
    config.env['LINKFLAGS'] += '/NODEFAULTLIB:"MSVCRT.lib" '
    config.env['LIBS'] = [
        'winmm.lib', 'ws2_32.lib', 'version.lib', 'psapi.lib', 'comctl32.lib',
        'boost_regex-vc100-mt-gd-1_46_1.lib',
        'boost_filesystem-vc100-mt-gd-1_46_1.lib',
        'boost_system-vc100-mt-gd-1_46_1.lib', 'zlib_1D.lib', 'MiniZip_1D.lib',
        'lmgr_md.lib', 'libcrvs_md.lib', 'libsb_md.lib', 'libnoact_md.lib',
        'stcutils.lib', 'xerces-c_2D.lib', 'SQLite3.lib', 'log4cplusd.lib',
        'ACEd.lib', 'libcurl.lib', 'kernel32.lib', 'user32.lib', 'gdi32.lib',
        'winspool.lib', 'comdlg32.lib', 'advapi32.lib', 'shell32.lib',
        'ole32.lib', 'oleaut32.lib', 'uuid.lib', 'odbc32.lib', 'odbccp32.lib']
    staticLinkObjects = ['../../../common/lib/Flexlm/win/lm_new_md.obj']
else:
    config.env['CXXFLAGS'] += '/D "STC_EXPORTS" /D "SPIRENT_CHANGES"'

    config.env['LIBS'] = [
        'winmm.lib', 'ws2_32.lib', 'version.lib', 'psapi.lib', 'comctl32.lib',
        'boost_regex-vc100-mt-1_46_1.lib',
        'boost_filesystem-vc100-mt-1_46_1.lib',
        'boost_system-vc100-mt-1_46_1.lib', 'zlib_1.lib', 'MiniZip_1.lib',
        'lmgr_md.lib', 'libcrvs_md.lib', 'libsb_md.lib', 'libnoact_md.lib',
        'stcutils.lib', 'xerces-c_2.lib', 'SQLite3.lib', 'log4cplus.lib',
        'ACE.lib', 'libcurl.lib', 'kernel32.lib', 'user32.lib', 'gdi32.lib',
        'winspool.lib', 'comdlg32.lib', 'advapi32.lib', 'shell32.lib',
        'ole32.lib', 'oleaut32.lib', 'uuid.lib', 'odbc32.lib', 'odbccp32.lib']
    staticLinkObjects = ['../../../common/lib/Flexlm/win/lm_new_md.obj']
libname = 'stcbase'

if is_linux_64:
   config.env['LIBS'].append('libFNPload_pic.a')
   config.env['LIBS'].append('liblmgr_dongle_stub_pic.a')

config.env['PDB'] = os.path.join(config.outputDir, libname + '.pdb')
objs = Utils.createObjects(config, sources)
Utils.createLibOrExe(config, libname, objs, staticLinkObjects, resources,
                     'SharedLibrary')

Utils.installResources(config)

Utils.generateMSVSProject(
    config, 'Framework.Bll.Base', '195576B2-ED35-42F9-AA6F-70D2FC9E5BDA',
    sources, includes, resources, misc, 'stcbase.dll', 'stcbase.dll')
